(self["webpackChunktravel"]=self["webpackChunktravel"]||[]).push([[443],{7793:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var n=a(6252),i=a(3577);const l={class:"bread"},r=(0,n.Uk)("首頁"),c={key:0},o=(0,n.Uk)("搜尋結果"),s={key:1},u={key:2},d={href:"#"};function p(e,t,a,p,g,v){const m=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n.Wm)(m,{to:"/"},{default:(0,n.w5)((()=>[r])),_:1})]),"search"===p.currentRoute?((0,n.wg)(),(0,n.iD)("li",c,[(0,n.Wm)(m,{to:"/search"},{default:(0,n.w5)((()=>[o])),_:1})])):(0,n.kq)("",!0),"info"===p.currentRoute?((0,n.wg)(),(0,n.iD)("li",s,[(0,n.Wm)(m,{to:"/search"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(p.infoKind),1)])),_:1})])):(0,n.kq)("",!0),"info"===p.currentRoute?((0,n.wg)(),(0,n.iD)("li",u,[(0,n._)("a",d,(0,i.zw)(p.props.spot),1)])):(0,n.kq)("",!0)])])}var g=a(2119),v={props:{kind:{type:String},spot:{type:String}},setup(e){const t=(0,g.yj)(),a=(0,n.Fl)((()=>t.name)),i=(0,n.Fl)((()=>{let t="";switch(e.kind){case"ScenicSpot":t="景點";break;case"Restaurant":t="美食";break;case"Activity":t="活動";break}return t}));return{props:e,infoKind:i,currentRoute:a}}},m=a(3744);const k=(0,m.Z)(v,[["render",p],["__scopeId","data-v-0f021040"]]);var y=k},8085:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ce}});var n=a(6252);function i(e,t,a,i,l,r){const c=(0,n.up)("InfoArea");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(c)])}var l=a(3577),r=a(9963),c=a(4827),o=a(2028),s=a(7580),u=a(7709),d=a(6555);const p=e=>((0,n.dD)("data-v-52749fb6"),e=e(),(0,n.Cn)(),e),g={class:"bread-share"},v=p((()=>(0,n._)("div",{class:"share"},[(0,n._)("span",null,[(0,n._)("span",null,"分享給你的旅伴"),(0,n._)("i",{class:"fa-solid fa-share-nodes"})])],-1))),m={class:"main-info"},k={class:"main-info-text"},y={key:0,class:"view-tag"},w={key:0},f=["onClick"],h=["onClick"],_={class:"address"},D=p((()=>(0,n._)("img",{src:s,alt:""},null,-1))),C=["href"],b={class:"phone"},P=p((()=>(0,n._)("img",{src:u,alt:""},null,-1))),S={key:0},T=p((()=>(0,n._)("a",{href:"#",type:"button"},"點擊撥號",-1))),A={key:1},x=p((()=>(0,n._)("span",null,"沒有相關資訊",-1))),N=[x],I={class:"open-time"},R=p((()=>(0,n._)("img",{src:d,alt:""},null,-1))),z=["innerHTML"],F={key:1},O=p((()=>(0,n._)("p",{class:"no-pic_text"},"此景點尚未提供圖片",-1))),H=[O],$={class:"description"},M=p((()=>(0,n._)("h3",null,"特色簡介",-1))),K={key:0,class:"about"},U={class:"service"},Z=p((()=>(0,n._)("h4",null,"服務設施",-1))),L={key:0},V={key:1},Y={class:"traffic"},W=p((()=>(0,n._)("h4",null,"交通方式",-1))),q=["innerHTML"],j={key:1},E={class:"remark"},J=p((()=>(0,n._)("h4",null,"注意事項",-1))),X=["innerHTML"],B={key:1},G={key:1,class:"about"},Q={class:"organizer"},ee=p((()=>(0,n._)("h4",null,"主辦單位",-1))),te={key:0},ae={key:1},ne={class:"participation"},ie=p((()=>(0,n._)("h4",null,"活動參與對象",-1))),le={key:0},re={key:1},ce={class:"website"},oe=p((()=>(0,n._)("h4",null,"活動網址",-1))),se={key:0},ue=["href"],de={key:1};function pe(e,t,i,s,u,d){const p=(0,n.up)("BreadArea");return(0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.information,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"info-area",key:e[s.kind+"Name"]},[(0,n._)("div",g,[(0,n.Wm)(p,{kind:s.kind,spot:e[s.kind+"Name"]},null,8,["kind","spot"]),v]),(0,n._)("div",m,[(0,n._)("div",k,[s.tag.length>0?((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.tag.length,(t=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("li",{key:t},(0,l.zw)("# "+e["Class"+t]),1)),[[r.F8,e["Class"+t]]]))),128)),e.Level?((0,n.wg)(),(0,n.iD)("li",w,(0,l.zw)("# "+e.Level),1)):(0,n.kq)("",!0)])])):(0,n.kq)("",!0),(0,n._)("h2",null,[(0,n.Uk)((0,l.zw)(e[s.kind+"Name"])+" ",1),(0,n.wy)((0,n._)("img",{src:c,alt:"加入收藏",title:"加入收藏",onClick:t=>s.favoriteToggle(s.kind,e[s.kind+"ID"])},null,8,f),[[r.F8,!e.favorite]]),(0,n.wy)((0,n._)("img",{src:o,alt:"加入收藏",title:"加入收藏",onClick:t=>s.favoriteToggle(s.kind,e[s.kind+"ID"])},null,8,h),[[r.F8,e.favorite]])]),(0,n._)("div",_,[D,(0,n._)("span",null,(0,l.zw)(e.Address),1),(0,n._)("a",{href:s.url,type:"button"},"查看地圖",8,C)]),(0,n._)("div",b,[P,e.Phone?((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("span",null,(0,l.zw)(e.Phone),1),T])):((0,n.wg)(),(0,n.iD)("div",A,N))]),(0,n._)("div",I,[R,"Activity"!==s.kind?((0,n.wg)(),(0,n.iD)("span",{key:0,innerHTML:s.openTime},null,8,z)):((0,n.wg)(),(0,n.iD)("span",F,(0,l.zw)(s.formattedPeriod),1))])]),0!==Object.keys(e.Picture).length?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"main-info-pic",style:(0,l.j5)({backgroundImage:"url("+e.Picture.PictureUrl1+")"})},null,4)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"main-info-pic no-pic",style:(0,l.j5)({backgroundImage:`url(${a(9418)("./miss"+s.kind+".png")})`})},H,4))]),(0,n._)("div",$,[M,(0,n._)("p",null,(0,l.zw)(s.formattedDesc),1)]),"Activity"!==s.kind?((0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("div",U,[Z,(0,n._)("p",null,[e.ParkingInfo?((0,n.wg)(),(0,n.iD)("span",L,"停車場")):((0,n.wg)(),(0,n.iD)("span",V,"沒有相關資訊"))])]),(0,n._)("div",Y,[W,(0,n._)("p",null,[e.TravelInfo?((0,n.wg)(),(0,n.iD)("span",{key:0,innerHTML:s.formattedTraffic},null,8,q)):((0,n.wg)(),(0,n.iD)("span",j,"沒有相關資訊"))])]),(0,n._)("div",E,[J,(0,n._)("p",null,[e.Remarks?((0,n.wg)(),(0,n.iD)("span",{key:0,innerHTML:s.formattedRemarks},null,8,X)):((0,n.wg)(),(0,n.iD)("span",B,"沒有相關資訊"))])])])):((0,n.wg)(),(0,n.iD)("div",G,[(0,n._)("div",Q,[ee,(0,n._)("p",null,[e.Organizer?((0,n.wg)(),(0,n.iD)("span",te,(0,l.zw)(e.Organizer),1)):((0,n.wg)(),(0,n.iD)("span",ae,"沒有相關資訊"))])]),(0,n._)("div",ne,[ie,(0,n._)("p",null,[e.Participation?((0,n.wg)(),(0,n.iD)("span",le,(0,l.zw)(e.Participation),1)):((0,n.wg)(),(0,n.iD)("span",re,"沒有相關資訊"))])]),(0,n._)("div",ce,[oe,(0,n._)("p",null,[e.WebsiteUrl?((0,n.wg)(),(0,n.iD)("span",se,[(0,n._)("a",{type:"button",href:e.WebsiteUrl},"點擊前往",8,ue)])):((0,n.wg)(),(0,n.iD)("span",de,"沒有相關資訊"))])])]))])))),128)}var ge=a(7793),ve=a(6469),me=a(2119),ke=a(3907),ye={components:{BreadArea:ge.Z},setup(){const e=(0,me.yj)(),t=(0,ke.oR)(),a=e.query.kind,i=(0,n.Fl)((()=>t.state.initData)),l=(0,n.Fl)((()=>Object.keys(i.value[0]).filter((e=>0===e.indexOf("Class"))))),r=(0,n.Fl)((()=>i.value[0].Position&&"https://www.google.com.tw/maps/@"+i.value[0].Position.PositionLat+","+i.value[0].Position.PositionLon+",17z?hl=zh-TW")),c=(0,n.Fl)((()=>{let e=i.value[0].Description;const t=/([\u4e00-\u9fa5]+)([\da-zA-Z]+)([\u4e00-\u9fa5]+)([\da-zA-Z]+)/g,n=/([\u4e00-\u9fa5]+)([\da-zA-Z]+)([\u4e00-\u9fa5]+)/g;return"ScenicSpot"===a&&(e=i.value[0].DescriptionDetail),e.replaceAll(t,"$1 $2 $3 $4 ").replaceAll(n,"$1 $2 $3 ")})),o=(0,n.Fl)((()=>{let e="";if("Activity"!==a){const t=/(週[一二三四五六日])/g,a=/(:[0-9]{2})([\u4e00-\u9fa5]+)/g;e=i.value[0].OpenTime.toLowerCase().replace("sun","週日").replace("mon","週一").replace("tue","週二").replace("wed","週三").replace("thu","週四").replace("fri","週五").replace("sat","週六").replaceAll(" ","").replaceAll(",","").replaceAll("，","").replaceAll(";","").replaceAll("；","").replaceAll("hours","小時").replaceAll(t,"$1： ").replaceAll(a,"$1<br>$2").replaceAll("小時","小時<br>")}return e})),s=(0,n.Fl)((()=>i.value[0].TravelInfo&&i.value[0].TravelInfo.replaceAll("。","。<br>"))),u=(0,n.Fl)((()=>i.value[0].Remarks&&i.value[0].Remarks.replaceAll("。。","。").replaceAll("\\\\","\\").replaceAll("<.{1,3}>","").replaceAll("\\[a-zA-Z]","").replaceAll("。","。<br>"))),d=(0,n.Fl)((()=>i.value[0].StartTime.split("T")[0]+" ~ "+i.value[0].EndTime.split("T")[0]));function p(e,a){const n={kind:e,id:a};t.commit("favoriteToggle",n)}return(0,n.bv)((()=>{const n=`https://ptx.transportdata.tw/MOTC/v2/Tourism/${a}?%24filter=${a}ID%20eq%20'${e.query.id}'&%24top=1&%24format=JSON`;t.dispatch("TDXApi",n),t.state.apiError&&ve.Z.push("search")})),{kind:a,information:i,tag:l,url:r,openTime:o,formattedDesc:c,formattedTraffic:s,formattedRemarks:u,formattedPeriod:d,favoriteToggle:p}}},we=a(3744);const fe=(0,we.Z)(ye,[["render",pe],["__scopeId","data-v-52749fb6"]]);var he=fe,_e={name:"InfoView",components:{InfoArea:he}};const De=(0,we.Z)(_e,[["render",i]]);var Ce=De},5697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ct}});var n=a(6252);function i(e,t,a,i,l,r){const c=(0,n.up)("SearchArea"),o=(0,n.up)("ShowView"),s=(0,n.up)("LoadingMask");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{onKeyword:i.getKeyword},null,8,["onKeyword"]),(0,n.Wm)(o,{keyword:i.keyword},null,8,["keyword"]),(0,n.Wm)(s)],64)}var l=a(9963),r=a(3577),c=a(7772);const o=e=>((0,n.dD)("data-v-30d9eba8"),e=e(),(0,n.Cn)(),e),s={class:"input-area"},u={class:"search-bar"},d=o((()=>(0,n._)("span",null,"你目前正在搜索",-1))),p={class:"input-bar"},g={key:0,class:"county-box-controller"},v={key:1,class:"county-box-controller"},m={key:0,class:"county-list county-box-controller"},k=["onClick"],y=o((()=>(0,n._)("i",{class:"fa-solid fa-search"},null,-1))),w=(0,n.Uk)(" 搜尋"),f=[y,w],h={class:"phone-search-bar"},_=o((()=>(0,n._)("img",{class:"search-icon",src:c},null,-1)));function D(e,t,a,i,c,o){const y=(0,n.up)("BreadArea");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(y),(0,n._)("div",u,[d,(0,n._)("div",p,[(0,n.wy)((0,n._)("input",{type:"text",placeholder:"輸入關鍵字","onUpdate:modelValue":t[0]||(t[0]=e=>i.keyword=e)},null,512),[[l.nr,i.keyword]]),(0,n._)("div",{class:(0,r.C_)(["county-box county-box-controller",{isOpen:i.boxOpen}])},[(0,n._)("div",{class:(0,r.C_)(["county-selected-list county-box-controller",{isOpen:i.boxOpen}]),onClick:t[1]||(t[1]=e=>i.boxOpen=!i.boxOpen)},[0===i.countySelected.length?((0,n.wg)(),(0,n.iD)("p",g,"選擇縣市")):((0,n.wg)(),(0,n.iD)("ul",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.countySelected,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"county-box-controller",key:e.cityName},(0,r.zw)(e.cityName),1)))),128))]))],2),i.boxOpen?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.county,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.cityName,class:(0,r.C_)(["county-box-controller",{isSelected:!0===e.selected}]),onClick:t=>e.selected=!e.selected},(0,r.zw)(e.cityName),11,k)))),128))])])):(0,n.kq)("",!0)],2),(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>i.searchView&&i.searchView(...e))},f)]),(0,n._)("div",h,[(0,n.wy)((0,n._)("input",{class:"search-input",type:"text",placeholder:"想去哪裡？","onUpdate:modelValue":t[3]||(t[3]=e=>i.keyword=e),onKeydown:t[4]||(t[4]=(0,l.D2)((0,l.iM)(((...e)=>i.searchView&&i.searchView(...e)),["exact"]),["enter"]))},null,544),[[l.nr,i.keyword,void 0,{trim:!0}]]),_])])])}var C=a(2262),b=a(3907),P=a(7793),S={components:{BreadArea:P.Z},emits:["keyword"],setup(e,t){const a=(0,b.oR)(),i=(0,C.iH)([]),l=(0,C.iH)(!1),r=(0,C.iH)(""),c=(0,n.Fl)((()=>i.value.filter((e=>e.selected))));function o(){t.emit("keyword",r.value)}return(0,n.bv)((()=>{document.addEventListener("click",(function(e){e.target.classList.contains("county-box-controller")||(l.value=!1)}))})),(0,n.bv)((()=>{a.dispatch("CountyApi").then((()=>{i.value=a.state.cityCounty.map((function(e){const t={};return t.cityName=e.CityName,t.selected=!1,t}))}))})),{county:i,boxOpen:l,keyword:r,countySelected:c,searchView:o}}},T=a(3744);const A=(0,T.Z)(S,[["render",D],["__scopeId","data-v-30d9eba8"]]);var x=A,N=a(4827),I=a(2028),R=a(4978),z=a(6555),F=a(4595),O=a(9861);const H=e=>((0,n.dD)("data-v-2f4e1f44"),e=e(),(0,n.Cn)(),e),$={class:"show-area"},M={class:"view-category"},K=["onClick"],U={class:"search-result"},Z={class:"filter-bar"},L=(0,n.Uk)("共有"),V=(0,n.Uk)("筆搜尋結果"),Y=H((()=>(0,n._)("div",{class:"sort-way"},[(0,n._)("small",null,"排序方式"),(0,n._)("select",{name:"sort",id:"sort"},[(0,n._)("option",{value:"about",selected:""},"相關結果優先"),(0,n._)("option",{value:"new"},"最新結果優先")])],-1))),W={class:"pc-bar"},q={key:0,class:"service-info"},j=H((()=>(0,n._)("small",null,"服務資訊",-1))),E=["for"],J=["id","onUpdate:modelValue"],X={key:1},B={class:"activity-condition"},G=H((()=>(0,n._)("small",null,"活動檔期",-1))),Q=["for"],ee=["id","onUpdate:modelValue"],te=H((()=>(0,n._)("div",{class:"activity-time"},[(0,n._)("small",null,"指定時段"),(0,n._)("input",{type:"date"})],-1))),ae={class:"theme"},ne=H((()=>(0,n._)("small",null,"主題類別",-1))),ie=["onClick"],le={class:"view-area"},re={key:0,class:"have-keyword"},ce=["onClick"],oe=["onClick"],se=["onClick"],ue=["onClick"],de=["onClick"],pe={class:"no-pic-text"},ge={key:2},ve=H((()=>(0,n._)("img",{src:R,alt:""},null,-1))),me={key:0},ke={key:1},ye={key:2},we={key:3},fe=H((()=>(0,n._)("img",{src:z,alt:""},null,-1))),he={key:0},_e={key:1},De={key:2},Ce={class:"page-controller"},be={key:1,class:"no-keyword"},Pe=H((()=>(0,n._)("img",{src:F,alt:""},null,-1))),Se=H((()=>(0,n._)("h3",null,"請輸入搜尋關鍵字",-1))),Te=H((()=>(0,n._)("small",null,"當前沒有搜尋關鍵字，請先輸入欲搜尋的關鍵字",-1))),Ae=[Pe,Se,Te],xe={key:2,class:"api-error"},Ne=H((()=>(0,n._)("img",{src:O,alt:""},null,-1))),Ie=H((()=>(0,n._)("h3",null,"請求次數過多",-1))),Re=H((()=>(0,n._)("small",null,"好啦!我的Api次數被你call爆了，晚點再試吧!!",-1))),ze=[Ne,Ie,Re];function Fe(e,t,i,c,o,s){const u=(0,n.up)("PageController");return(0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("div",M,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.category,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:e.category,class:(0,r.C_)({isActive:c.currentCategory===t}),onClick:e=>c.getResult(t)},(0,r.zw)(e.title),11,K)))),128))])]),(0,n._)("div",U,[(0,n._)("div",Z,[(0,n._)("h3",null,[L,(0,n._)("span",null,(0,r.zw)(c.showData.length),1),V]),Y,(0,n._)("div",W,[2!==c.currentCategory?((0,n.wg)(),(0,n.iD)("div",q,[j,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.category[c.currentCategory].service,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"service-info-item",key:e.title},[(0,n._)("label",{for:e.name,class:(0,r.C_)({isChecked:e.checked})},(0,r.zw)(e.title),11,E),(0,n.wy)((0,n._)("input",{type:"checkbox",id:e.name,"onUpdate:modelValue":t=>e.checked=t},null,8,J),[[l.e8,e.checked]])])))),128))])):((0,n.wg)(),(0,n.iD)("div",X,[(0,n._)("div",B,[G,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.category[c.currentCategory].condition,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"activity-condition-item",key:e.title},[(0,n._)("label",{for:e.name,class:(0,r.C_)({isChecked:e.checked})},(0,r.zw)(e.title),11,Q),(0,n.wy)((0,n._)("input",{type:"checkbox",id:e.name,"onUpdate:modelValue":t=>e.checked=t},null,8,ee),[[l.e8,e.checked]])])))),128))]),te])),(0,n._)("div",ae,[ne,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.category[c.currentCategory].theme,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["theme-item",{isActive:e.selected}]),key:e.title,onClick:t=>e.selected=!e.selected},(0,r.zw)(e.title),11,ie)))),128))])])]),(0,n._)("div",le,[c.noKeyword||c.apiError?c.noKeyword&&!c.apiError?((0,n.wg)(),(0,n.iD)("div",be,Ae)):((0,n.wg)(),(0,n.iD)("div",xe,ze)):((0,n.wg)(),(0,n.iD)("div",re,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.showData.slice(c.dataStartIndex,c.dataStartIndex+12),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"show-card",key:e[c.currentSearch.en+"Name"]+"_"+e[c.currentSearch.en+"ID"],onClick:t=>c.goPath({path:"/info",query:{kind:c.currentSearch.en,id:e[c.currentSearch.en+"ID"]}})},[e.Picture.PictureUrl1?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"card-pic",style:(0,r.j5)({backgroundImage:"url("+e.Picture.PictureUrl1+")"})},[(0,n.wy)((0,n._)("img",{src:N,alt:"加入收藏",title:"加入收藏",onClick:(0,l.iM)((t=>c.favoriteToggle(c.currentSearch.en,e[c.currentSearch.en+"ID"])),["stop"])},null,8,oe),[[l.F8,!e.favorite]]),(0,n.wy)((0,n._)("img",{class:"favorite",src:I,alt:"加入收藏",title:"加入收藏",onClick:(0,l.iM)((t=>c.favoriteToggle(c.currentSearch.en,e[c.currentSearch.en+"ID"])),["stop"])},null,8,se),[[l.F8,e.favorite]])],4)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"card-pic no-pic",style:(0,r.j5)({backgroundImage:`url(${a(9418)("./miss"+c.currentSearch.en+".png")})`})},[(0,n.wy)((0,n._)("img",{src:N,alt:"加入收藏",title:"加入收藏",onClick:(0,l.iM)((t=>c.favoriteToggle(c.currentSearch.en,e[c.currentSearch.en+"ID"])),["stop"])},null,8,ue),[[l.F8,!e.favorite]]),(0,n.wy)((0,n._)("img",{class:"favorite",src:I,alt:"加入收藏",title:"加入收藏",onClick:(0,l.iM)((t=>c.favoriteToggle(c.currentSearch.en,e[c.currentSearch.en+"ID"])),["stop"])},null,8,de),[[l.F8,e.favorite]]),(0,n._)("p",pe,"此"+(0,r.zw)(c.currentSearch.ch)+"尚未提供圖片",1)],4)),(0,n._)("h4",null,(0,r.zw)(e[c.currentSearch.en+"Name"]),1),"Activity"!==c.currentSearch.en?((0,n.wg)(),(0,n.iD)("p",ge,[ve,e.CountyName?((0,n.wg)(),(0,n.iD)("span",me,(0,r.zw)(e.CountyName),1)):((0,n.wg)(),(0,n.iD)("span",ke,"請見詳情頁")),e.AreaName?((0,n.wg)(),(0,n.iD)("span",ye,(0,r.zw)(e.AreaName),1)):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("p",we,[fe,"In progress"===e.timeStatus?((0,n.wg)(),(0,n.iD)("span",he,"熱鬧進行中")):"Over"===e.timeStatus?((0,n.wg)(),(0,n.iD)("span",_e,"已結束")):((0,n.wg)(),(0,n.iD)("span",De,"再 "+(0,r.zw)(e.timeStatus)+" 天",1))]))],8,ce)))),128)),(0,n._)("div",Ce,[(0,n.Wm)(u,{totalPage:c.totalPage},null,8,["totalPage"])])]))])])])}var Oe=a(6469),He=a(2119);const $e=e=>((0,n.dD)("data-v-8dda77f4"),e=e(),(0,n.Cn)(),e),Me=$e((()=>(0,n._)("i",{class:"fa-solid fa-angle-left"},null,-1))),Ke=[Me],Ue=["onClick"],Ze=["onClick"],Le=$e((()=>(0,n._)("i",{class:"fa-solid fa-angle-right"},null,-1))),Ve=[Le];function Ye(e,t,a,i,c,o){return(0,n.wg)(),(0,n.iD)("ul",null,[(0,n._)("li",{class:(0,r.C_)(["last-page-controller",{disable:1===i.currentPage}]),onClick:t[0]||(t[0]=e=>1!==i.currentPage?i.changePage(i.currentPage-1):i.currentPage)},Ke,2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.props.totalPage,(e=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("li",{class:(0,r.C_)(["number_page_controller",{isActive:e===i.currentPage}]),key:e,onClick:t=>i.changePage(e)},(0,r.zw)(e),11,Ue)),[[l.F8,i.props.totalPage<=6]]))),128)),(0,n.wy)((0,n._)("li",{onClick:t[1]||(t[1]=e=>i.changePage(1)),class:(0,r.C_)({isActive:1===i.currentPage})},"1",2),[[l.F8,i.props.totalPage>6&&i.currentPage>2]]),(0,n.wy)((0,n._)("li",null,"...",512),[[l.F8,i.props.totalPage>6&&i.currentPage-1>2]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.props.totalPage,(e=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("li",{key:e,onClick:t=>i.changePage(e),class:(0,r.C_)({isActive:e===i.currentPage})},(0,r.zw)(e),11,Ze)),[[l.F8,i.props.totalPage>6&&Math.abs(i.currentPage-e)<=1]]))),128)),(0,n.wy)((0,n._)("li",null,"...",512),[[l.F8,i.props.totalPage>6&&i.props.totalPage-i.currentPage>2]]),(0,n.wy)((0,n._)("li",{onClick:t[2]||(t[2]=e=>i.changePage(i.props.totalPage)),class:(0,r.C_)({isActive:i.currentPage===i.props.totalPage})},(0,r.zw)(i.props.totalPage),3),[[l.F8,i.props.totalPage>6&&i.currentPage<i.props.totalPage-1]]),(0,n._)("li",{class:(0,r.C_)(["next-page-controller",{disable:i.currentPage===i.props.totalPage}]),onClick:t[3]||(t[3]=e=>i.currentPage!==i.props.totalPage?i.changePage(i.currentPage+1):i.currentPage)},Ve,2)])}var We={props:{totalPage:{type:Number,default:1}},emits:["changePage"],setup(e){const t=(0,b.oR)(),a=(0,n.Fl)((()=>t.state.currentPage));function i(e){t.commit("changePage",e),t.dispatch("scrollToTop")}return{props:e,currentPage:a,changePage:i}}};const qe=(0,T.Z)(We,[["render",Ye],["__scopeId","data-v-8dda77f4"]]);var je=qe,Ee={components:{PageController:je},props:["keyword"],setup(e){const t=(0,He.yj)(),a=(0,b.oR)(),i=(0,C.iH)([{title:"找景點",category:"Attractions",service:[{title:"停車場",name:"ParkingInfo",checked:!1},{title:"購票資訊",name:"TicketInfo",checked:!1}],theme:[{title:"北台灣",selected:!1},{title:"中台灣",selected:!1},{title:"南臺灣",selected:!1},{title:"東台灣",selected:!1},{title:"離島地區",selected:!1}]},{title:"找美食",category:"Delicacy",service:[{title:"停車場",name:"ParkingInfo",checked:!1}],theme:[{title:"飽餐一頓",selected:!1},{title:"清涼消暑",selected:!1},{title:"在地美味",selected:!1},{title:"特色名產",selected:!1}]},{title:"找活動",category:"Activity",condition:[{title:"即將開始",checked:!1},{title:"進行中",checked:!1}],theme:[{title:"藝文展演",selected:!1},{title:"戶外露營",selected:!1},{title:"親近山海",selected:!1},{title:"年度慶典",selected:!1}]}]),l=(0,C.iH)(0),r=(0,C.iH)({en:"ScenicSpot",ch:"景點"}),c=(0,C.iH)(!0),o=(0,n.Fl)((()=>a.state.apiError)),s=(0,n.Fl)((()=>a.state.initData)),u=(0,C.iH)([]),d=(0,n.Fl)((()=>a.state.currentPage)),p=(0,n.Fl)((()=>12*(d.value-1))),g=(0,n.Fl)((()=>Math.ceil(u.value.length/12)));function v(e,t){const n={kind:e,id:t};a.commit("favoriteToggle",n)}function m(e){Oe.Z.push(e),a.dispatch("scrollToTop")}function k(n){switch(void 0!==n&&(l.value=n,a.commit("changePage",1)),n){case 0:r.value.en="ScenicSpot",r.value.ch="景點";break;case 1:r.value.en="Restaurant",r.value.ch="美食";break;case 2:r.value.en="Activity",r.value.ch="活動";break}if(""!==e.keyword&&""!==t.params.keyword){if(""!==e.keyword){const t=`https://ptx.transportdata.tw/MOTC/v2/Tourism/${r.value.en}?%24filter=contains(${r.value.en+"Name"}%2C'${encodeURI(e.keyword)}')&&%24%24format=JSON`;a.commit("loadingToggle",!0),a.dispatch("TDXApi",t),setTimeout((()=>a.commit("loadingToggle",!1)),1e3)}else if(""!==t.params.keyword){const e=`https://ptx.transportdata.tw/MOTC/v2/Tourism/${r.value.en}?%24filter=contains(${r.value.en+"Name"}%2C'${t.params.keyword}')&&%24%24format=JSON`;a.commit("loadingToggle",!0),a.dispatch("TDXApi",e),setTimeout((()=>a.commit("loadingToggle",!1)),1e3)}}else a.commit("tdxData",[]),c.value=!0}function y(){const e=[];let t=[];t=i.value[l.value].service,2===l.value&&(t=i.value[l.value].condition);for(let a=0;a<t.length;a++)t[a].checked&&e.push(a);if(2===l.value)switch(e.length){case 0:u.value=s.value;break;case 1:0===e[0]?u.value=s.value.filter((e=>"In progress"!==e.timeStatus&&"Over"!==e.timeStatus)):u.value=s.value.filter((e=>"In progress"===e.timeStatus));break;case 2:u.value=s.value.filter((e=>"Over"!==e.timeStatus));break}else switch(e.length){case 0:u.value=s.value;break;case 1:u.value=s.value.filter((t=>t[i.value[l.value].service[e[0]].name]));break;case 2:u.value=s.value.filter((e=>e[i.value[l.value].service[0].name]||e[i.value[l.value].service[1].name]));break}a.commit("changePage",1)}return(0,n.YP)(e,(()=>{""!==e.keyword?(c.value=!1,k()):(c.value=!0,a.commit("tdxData",[]))}),{deep:!0}),(0,n.YP)(i.value,(()=>{y()})),(0,n.YP)(s,(()=>{y()}),{deep:!0}),(0,n.bv)((()=>{switch(t.params.kind){case"Attractions":l.value=0;break;case"Delicacy":l.value=1;break;case"Activity":l.value=2;break}})),(0,n.bv)((()=>{if(a.commit("loadFavorite"),t.params.keyword){c.value=!1;const e=t.params.keyword,n=`https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?%24filter=contains(ScenicSpotName%2C'${e}')%20or%20contains(Address%2C'${e}')%20or%20contains(keyword%2C'${e}')&%24format=JSON`;a.commit("loadingToggle",!0),a.dispatch("TDXApi",n),setTimeout((()=>a.commit("loadingToggle",!1)),1e3)}else if(""!==e.keyword){const t=e.keyword,n=`https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?%24filter=contains(ScenicSpotName%2C'${t}')%20or%20contains(Address%2C'${t}')%20or%20contains(keyword%2C'${t}')&%24format=JSON`;a.commit("loadingToggle",!0),a.dispatch("TDXApi",n),setTimeout((()=>a.commit("loadingToggle",!1)),1e3)}else if(void 0!==t.params.index){c.value=!1;let e="https://ptx.transportdata.tw/MOTC/v2/Tourism/";switch(i.value[l.value].theme[t.params.index].selected=!0,l.value){case 0:switch(r.value.en="ScenicSpot",r.value.ch="景點",e+="ScenicSpot?%24filter=",t.params.index){case"0":e+="contains(City, '台北') or contains(City, '新北') or contains(City, '基隆') or contains(City, '桃園') or contains(City, '新竹') or contains(City, '宜蘭')";break;case"1":e+="contains(City, '苗栗') or contains(City, '台中') or contains(City, '彰化') or contains(City, '南投') or contains(City, '雲林')";break;case"2":e+="contains(City, '嘉義') or contains(City, '台南') or contains(City, '高雄') or contains(City, '屏東')";break;case"3":e+="contains(City, '花蓮') or contains(City, '台東')";break;case"4":e+="contains(City, '連江') or contains(City, '金門') or contains(City, '澎湖')";break}break;case 1:switch(r.value.en="Restaurant",r.value.ch="美食",e+="Restaurant?%24filter=",t.params.index){case"0":e+="contains(RestaurantName, '便當') or contains(RestaurantName, '餐廳') or contains(RestaurantName, '料理') or contains(RestaurantName, '簡餐') or contains(RestaurantName, '飯店')";break;case"1":e+="contains(RestaurantName, '飲料') or contains(RestaurantName, '冰果') or contains(RestaurantName, '冰品') or contains(RestaurantName, '果汁') or contains(Description, '飲料') or contains(Description, '冰品')";break;case"2":e+="contains(RestaurantName, '小吃') or contains(Description, '小吃') or contains(Description, '在地')";break;case"3":e+="contains(RestaurantName, '名產') or contains(Description, '名產') or contains(Description, '伴手禮') or contains(Description, '土產') or contains(Description, '特產')";break}break;case 2:switch(r.value.en="Activity",r.value.ch="活動",e+="Activity?%24filter=",t.params.index){case"0":e+="contains(Class1, '藝文') or contains(Class2, '藝文')";break;case"1":e+="contains(ActivityName, '露營')";break;case"2":e+="contains(ActivityName, '山') or contains(ActivityName, '海')";break;case"3":e+="contains(Class1, '節慶') or contains(Class2, '節慶')";break}break}e+="&%24format=JSON",a.commit("loadingToggle",!0),a.dispatch("TDXApi",e),setTimeout((()=>a.commit("loadingToggle",!1)),1e3)}})),{route:t,noKeyword:c,apiError:o,category:i,showData:u,currentCategory:l,currentSearch:r,currentPage:d,dataStartIndex:p,totalPage:g,favoriteToggle:v,goPath:m,getResult:k}}};const Je=(0,T.Z)(Ee,[["render",Fe],["__scopeId","data-v-2f4e1f44"]]);var Xe=Je;const Be=e=>((0,n.dD)("data-v-27bbaf70"),e=e(),(0,n.Cn)(),e),Ge={class:"loading-view"},Qe=Be((()=>(0,n._)("i",{class:"fa-solid fa-spinner fa-spin-pulse"},null,-1))),et=[Qe];function tt(e,t,a,i,r,c){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",Ge,et,512)),[[l.F8,i.loadingStatus]])}var at={setup(){const e=(0,b.oR)(),t=(0,n.Fl)((()=>e.state.loadingStatus));return{loadingStatus:t}}};const nt=(0,T.Z)(at,[["render",tt],["__scopeId","data-v-27bbaf70"]]);var it=nt,lt={name:"SearchView",components:{SearchArea:x,ShowView:Xe,LoadingMask:it},setup(){const e=(0,b.oR)(),t=(0,C.iH)(""),a=(0,n.Fl)((()=>e.state.loadingStatus));function i(e){t.value=e}return{keyword:t,loadingStatus:a,getKeyword:i}}};const rt=(0,T.Z)(lt,[["render",i]]);var ct=rt},9418:function(e,t,a){var n={"./missActivity.png":2467,"./missRestaurant.png":8335,"./missScenicSpot.png":5308};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id=9418},9861:function(e,t,a){"use strict";e.exports=a.p+"img/apiError.bc7c402a.svg"},6555:function(e,t,a){"use strict";e.exports=a.p+"img/clock.4f939f81.svg"},4978:function(e,t,a){"use strict";e.exports=a.p+"img/map-pin.77c7602b.svg"},7580:function(e,t,a){"use strict";e.exports=a.p+"img/map-pin1.dc5dd669.svg"},4595:function(e,t,a){"use strict";e.exports=a.p+"img/noResult.992d317c.svg"},7709:function(e,t,a){"use strict";e.exports=a.p+"img/phone.27f23c66.svg"},2467:function(e,t,a){"use strict";e.exports=a.p+"img/missActivity.caab5c76.png"},8335:function(e,t,a){"use strict";e.exports=a.p+"img/missRestaurant.9ebd7a64.png"},5308:function(e,t,a){"use strict";e.exports=a.p+"img/missScenicSpot.3970c4da.png"}}]);
//# sourceMappingURL=about.c4f0fdde.js.map